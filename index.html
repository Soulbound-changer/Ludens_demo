<DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Deploying Counter to Polygon</title>
        <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
        <link rel="stylesheet" href="style1.css">
        
    </head>
    <body>
        <div class="assignment-closed---main">
            <div class="Background">
                <div class="Vector-7"><img src="./img/ludenslogo.png" alt="Metamask-Logo"width="60" ></div>
                <div class="user"><img src="./img/user.png" alt="Metamask-Logo"width="65" ></div>
                <div class="Metamask-Logo"><img src="./img/MetaMask.jpeg" alt="Metamask-Logo"width="70" ></div>
                <div class="Home"><img src="./img/home.png" alt="Metamask-Logo.png"width="65" ></div>
                <div class="Pencil"><img src="./img/write.png" alt="Metamask-Logo.png"width="65" ></div>
                <div class="Nav-Collapsed-Inactive"><img src="./img/relationship.png" alt="Metamask-Logo"width="55" ></div>
            </div>  
            <div class="Home-Header">
          
                    <div class="_Step-first">
                        <div class="Step">      
                            <div class="Line">
                                <div class="Filled"></div>
                                <div class="Circle"><span class="Number">
                                    1
                                  </span></div>
                                <div class="Empty"></div>
                            </div>
                        </div>
                    </div>
                    <div class="_Step-nth"><div class="Step"></div></div>
                    <div class="_Step-last"><div class="Step"></div></div>
        
                <div class="Rectangle-6"><span class="Q-Question">
                    Q: Question
                  </span></div>
                <div class="Rectangle-7"><span class="A-Submitted-answer">
                    A: Submitted answer
                  </span></div>

            </div>
        </div>
        <input type="button" onclick="location.href='create.html'" value="Create Question">
        <input type="button" onclick="location.href='solve.html'" value="Solve the Question">
        <input type="button" onclick="location.href='grade.html'" value="Grade the Answer">
        <script type="text/javascript">

        //1.Connect metamask to our site.Get the user's address
        (async ()=>{
            if(window.ethereum){
                await window.ethereum.send('eth_requestAccounts');
                window.web3=new Web3(window.ethereum);

                var accounts=await web3.eth.getAccounts();
                account=accounts[0];
            }
        })();

        //2.Deploy the bytecode!
        const deploy = async (abi,bytecode)=>{
            var deployingContract=new web3.eth.Contract(abi).deploy({
                data:bytecode,
                arguments:[]
            });
            var estimatedGas=await deployingContract.estimateGas();

            var deployedContract = await deployingContract.send({
                from:account,
                gas: estimatedGas
            })
            console.log('Address of Contract - '+deployedContract.options.address);
            return deployedContract.options.address;
        }
        </script>
    </body>

</html>